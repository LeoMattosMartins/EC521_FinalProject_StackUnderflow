[
  {
    "url": "https://stackoverflow.com/questions/2793150/how-to-use-java-net-urlconnection-to-fire-and-handle-http-requests",
    "body": "String contentType = connection.getHeaderField(\"Content-Type\");\nString charset = null;\nfor (String param : contentType.replace(\" \", \"\").split(\";\")) {\n\tif (param.startsWith(\"charset=\")) {\n\t\tcharset = param.split(\"=\", 2)[1];\n\t\tbreak;\n\t}\n}\nif (charset != null) {\n\ttry (BufferedReader reader = new BufferedReader(new InputStreamReader(response, charset))) {\n\t\tfor (String line; (line = reader.readLine()) != null;) {\n\t\t\t// ... System.out.println(line)?\n\t\t}\n\t}\n} else {\n\t// It's likely binary content, use InputStream/OutputStream.\n}"
  },
  {
    "url": "https://stackoverflow.com/questions/15202997/what-is-the-difference-between-canonical-name-simple-name-and-class-name-in-jav",
    "body": "class ClassNameTest {\n    public static void main(final String... arguments) {\n        printNamesForClass(\n            int.class,\n            \"int.class (primitive)\");\n        printNamesForClass(\n            String.class,\n            \"String.class (ordinary class)\");\n        printNamesForClass(\n            java.util.HashMap.SimpleEntry.class,\n            \"java.util.HashMap.SimpleEntry.class (nested class)\");\n        printNamesForClass(\n            new java.io.Serializable(){}.getClass(),\n            \"new java.io.Serializable(){}.getClass() (anonymous inner class)\");\n    }\n    private static void printNamesForClass(final Class<?> clazz, final String label) {\n        System.out.println(label + \":\");\n        System.out.println(\"    getName():          \" + clazz.getName());\n        System.out.println(\"    getCanonicalName(): \" + clazz.getCanonicalName());\n        System.out.println(\"    getSimpleName():    \" + clazz.getSimpleName());\n        System.out.println(\"    getTypeName():      \" + clazz.getTypeName()); // added in Java 8\n        System.out.println();\n    }\n}"
  },
  {
    "url": "https://stackoverflow.com/questions/15202997/what-is-the-difference-between-canonical-name-simple-name-and-class-name-in-jav",
    "body": "int.class (primitive):\n    getName():          int\n    getCanonicalName(): int\n    getSimpleName():    int\n    getTypeName():      int\nString.class (ordinary class):\n    getName():          java.lang.String\n    getCanonicalName(): java.lang.String\n    getSimpleName():    String\n    getTypeName():      java.lang.String\njava.util.HashMap.SimpleEntry.class (nested class):\n    getName():          java.util.AbstractMap$SimpleEntry\n    getCanonicalName(): java.util.AbstractMap.SimpleEntry\n    getSimpleName():    SimpleEntry\n    getTypeName():      java.util.AbstractMap$SimpleEntry\nnew java.io.Serializable(){}.getClass() (anonymous inner class):\n    getName():          ClassNameTest$1\n    getCanonicalName(): null\n    getSimpleName():\n    getTypeName():      ClassNameTest$1"
  },
  {
    "url": "https://stackoverflow.com/questions/3758606/how-can-i-convert-byte-size-into-a-human-readable-format-in-java",
    "body": "                              SI     BINARY\n                   0:        0 B        0 B\n                  27:       27 B       27 B\n                 999:      999 B      999 B\n                1000:     1.0 kB     1000 B\n                1023:     1.0 kB     1023 B\n                1024:     1.0 kB    1.0 KiB\n                1728:     1.7 kB    1.7 KiB\n              110592:   110.6 kB  108.0 KiB\n             7077888:     7.1 MB    6.8 MiB\n           452984832:   453.0 MB  432.0 MiB\n         28991029248:    29.0 GB   27.0 GiB\n       1855425871872:     1.9 TB    1.7 TiB\n 9223372036854775807:     9.2 EB    8.0 EiB   (Long.MAX_VALUE)"
  },
  {
    "url": "https://stackoverflow.com/questions/5778658/how-do-i-convert-an-outputstream-to-an-inputstream",
    "body": "// take the copy of the stream and re-write it to an InputStream\nPipedInputStream in = new PipedInputStream();\n    new Thread(new Runnable() {\n        public void run () {\n            // try-with-resources here\n            // putting the try block outside the Thread will cause the\n            // PipedOutputStream resource to close before the Runnable finishes\n            try (final PipedOutputStream out = new PipedOutputStream(in)) {\n                // write the original OutputStream to the PipedOutputStream\n                // note that in order for the below method to work, you need\n                // to ensure that the data has finished writing to the\n                // ByteArrayOutputStream\n                originalByteArrayOutputStream.writeTo(out);\n            }\n            catch (IOException e) {\n                // logging and exception handling should go here\n            }\n        }\n    }).start();"
  },
  {
    "url": "https://stackoverflow.com/questions/1942644/get-generic-type-of-java-util-list",
    "body": "package com.stackoverflow.q1942644;\nimport java.lang.reflect.Field;\nimport java.lang.reflect.ParameterizedType;\nimport java.util.ArrayList;\nimport java.util.List;\npublic class Test {\n    List<String> stringList = new ArrayList<>();\n    List<Integer> integerList = new ArrayList<>();\n    public static void main(String... args) throws Exception {\n        Class<Test> testClass = Test.class;\n        Field stringListField = testClass.getDeclaredField(\"stringList\");\n        ParameterizedType stringListType = (ParameterizedType) stringListField.getGenericType();\n        Class<?> stringListClass = (Class<?>) stringListType.getActualTypeArguments()[0];\n        System.out.println(stringListClass); // class java.lang.String\n        Field integerListField = testClass.getDeclaredField(\"integerList\");\n        ParameterizedType integerListType = (ParameterizedType) integerListField.getGenericType();\n        Class<?> integerListClass = (Class<?>) integerListType.getActualTypeArguments()[0];\n        System.out.println(integerListClass); // class java.lang.Integer\n    }\n}"
  },
  {
    "url": "https://stackoverflow.com/questions/48204141/replacements-for-deprecated-jpms-modules-with-java-ee-apis",
    "body": "<!-- API -->\n<dependency>\n    <groupId>jakarta.xml.bind</groupId>\n    <artifactId>jakarta.xml.bind-api</artifactId>\n    <version>2.3.3</version>\n</dependency>\n<!-- Runtime -->\n<dependency>\n    <groupId>com.sun.xml.bind</groupId>\n    <artifactId>jaxb-impl</artifactId>\n    <version>2.3.3</version>\n    <scope>runtime</scope>\n</dependency>\n<!-- Alternative runtime -->\n<dependency>\n    <groupId>org.glassfish.jaxb</groupId>\n    <artifactId>jaxb-runtime</artifactId>\n    <version>2.3.3</version>\n    <scope>runtime</scope>\n</dependency>"
  },
  {
    "url": "https://stackoverflow.com/questions/309396/how-to-test-methods-that-call-system-exit",
    "body": "public class NoExitTestCase extends TestCase\n{\n\tprotected static class ExitException extends SecurityException\n\t{\n\t\tpublic final int status;\n\t\tpublic ExitException(int status)\n\t\t{\n\t\t\tsuper(\"There is no escape!\");\n\t\t\tthis.status = status;\n\t\t}\n\t}\n\tprivate static class NoExitSecurityManager extends SecurityManager\n\t{\n\t\t@Override\n\t\tpublic void checkPermission(Permission perm)\n\t\t{\n\t\t\t// allow anything.\n\t\t}\n\t\t@Override\n\t\tpublic void checkPermission(Permission perm, Object context)\n\t\t{\n\t\t\t// allow anything.\n\t\t}\n\t\t@Override\n\t\tpublic void checkExit(int status)\n\t\t{\n\t\t\tsuper.checkExit(status);\n\t\t\tthrow new ExitException(status);\n\t\t}\n\t}\n\t@Override\n\tprotected void setUp() throws Exception\n\t{\n\t\tsuper.setUp();\n\t\tSystem.setSecurityManager(new NoExitSecurityManager());\n\t}\n\t@Override\n\tprotected void tearDown() throws Exception\n\t{\n\t\tSystem.setSecurityManager(null); // or save and restore original\n\t\tsuper.tearDown();\n\t}\n\tpublic void testNoExit() throws Exception\n\t{\n\t\tSystem.out.println(\"Printing works\");\n\t}\n\tpublic void testExit() throws Exception\n\t{\n\t\ttry\n\t\t{\n\t\t\tSystem.exit(42);\n\t\t} catch (ExitException e)\n\t\t{\n\t\t\tassertEquals(\"Exit status\", 42, e.status);\n\t\t}\n\t}\n}"
  },
  {
    "url": "https://stackoverflow.com/questions/37132559/add-jar-files-to-a-spark-job-spark-submit",
    "body": "    16/05/08 17:29:12 INFO HttpFileServer: HTTP File server directory is /tmp/spark-48911afa-db63-4ffc-a298-015e8b96bc55/httpd-84ae312b-5863-4f4c-a1ea-537bfca2bc2b\n    16/05/08 17:29:12 INFO HttpServer: Starting HTTP Server\n    16/05/08 17:29:12 INFO Utils: Successfully started service 'HTTP file server' on port 58922.\n    16/05/08 17:29:12 INFO SparkContext: Added JAR /opt/foo.jar at http://***:58922/jars/com.mycode.jar with timestamp 1462728552732\n    16/05/08 17:29:12 INFO SparkContext: Added JAR /opt/aws-java-sdk-1.10.50.jar at http://***:58922/jars/aws-java-sdk-1.10.50.jar with timestamp 1462728552767"
  },
  {
    "url": "https://stackoverflow.com/questions/37132559/add-jar-files-to-a-spark-job-spark-submit",
    "body": "drwxr-xr-x    3 spark spark   4096 May 15 06:16 app-20160515061614-0027\ndrwxr-xr-x    3 spark spark   4096 May 15 07:04 app-20160515070442-0028\ndrwxr-xr-x    3 spark spark   4096 May 15 07:18 app-20160515071819-0029\ndrwxr-xr-x    3 spark spark   4096 May 15 07:38 app-20160515073852-0030\ndrwxr-xr-x    3 spark spark   4096 May 15 08:13 app-20160515081350-0031\ndrwxr-xr-x    3 spark spark   4096 May 18 17:20 app-20160518172020-0032\ndrwxr-xr-x    3 spark spark   4096 May 18 17:20 app-20160518172045-0033"
  },
  {
    "url": "https://stackoverflow.com/questions/19757300/java-8-lambda-streams-filter-by-method-with-exception",
    "body": "public static <T> T uncheckCall(Callable<T> callable) {\n    try {\n        return callable.call();\n    } catch (Exception e) {\n        sneakyThrow(e);\n        return null; // Unreachable but needed to satisfy compiler\n    }\n}\npublic static void uncheckRun(RunnableExc r) {\n    try {\n        r.run();\n    } catch (Exception e) {\n        sneakyThrow(e);\n    }\n}\npublic interface RunnableExc {\n    void run() throws Exception;\n}\n@SuppressWarnings(\"unchecked\")\nprivate static <T extends Throwable> void sneakyThrow(Throwable t) throws T {\n    throw (T) t;\n}"
  },
  {
    "url": "https://stackoverflow.com/questions/3154488/how-do-i-iterate-through-the-files-in-a-directory-and-its-sub-directories-in-ja",
    "body": "package com.stackoverflow.q3154488;\nimport java.io.File;\npublic class Demo {\n    public static void main(String... args) {\n        File dir = new File(\"/path/to/dir\");\n        showFiles(dir.listFiles());\n    }\n    public static void showFiles(File[] files) {\n        for (File file : files) {\n            if (file.isDirectory()) {\n                System.out.println(\"Directory: \" + file.getAbsolutePath());\n                showFiles(file.listFiles()); // Calls same method again.\n            } else {\n                System.out.println(\"File: \" + file.getAbsolutePath());\n            }\n        }\n    }\n}"
  },
  {
    "url": "https://stackoverflow.com/questions/3154488/how-do-i-iterate-through-the-files-in-a-directory-and-its-sub-directories-in-ja",
    "body": "package com.stackoverflow.q3154488;\nimport java.io.File;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\npublic class DemoWithJava8 {\n\tpublic static void main(String... args) throws Exception {\n\t\tPath dir = Paths.get(\"/path/to/dir\");\n\t\tFiles.walk(dir).forEach(path -> showFile(path.toFile()));\n\t}\n\tpublic static void showFile(File file) {\n\t\tif (file.isDirectory()) {\n\t\t\tSystem.out.println(\"Directory: \" + file.getAbsolutePath());\n\t\t} else {\n\t\t\tSystem.out.println(\"File: \" + file.getAbsolutePath());\n\t\t}\n\t}\n}"
  },
  {
    "url": "https://stackoverflow.com/questions/2067955/fast-bitmap-blur-for-android-sdk",
    "body": "//define this only once if blurring multiple times\nRenderScript rs = RenderScript.create(context);\n(...)\n//this will blur the bitmapOriginal with a radius of 8 and save it in bitmapOriginal\nfinal Allocation input = Allocation.createFromBitmap(rs, bitmapOriginal); //use this constructor for best performance, because it uses USAGE_SHARED mode which reuses memory\nfinal Allocation output = Allocation.createTyped(rs, input.getType());\nfinal ScriptIntrinsicBlur script = ScriptIntrinsicBlur.create(rs, Element.U8_4(rs));\nscript.setRadius(8f);\nscript.setInput(input);\nscript.forEach(output);\noutput.copyTo(bitmapOriginal);"
  },
  {
    "url": "https://stackoverflow.com/questions/25911623/problems-using-maven-and-ssl-behind-proxy",
    "body": "<settings>\n      <activeProfiles>\n        <!--make the profile active all the time -->\n        <activeProfile>securecentral</activeProfile>\n      </activeProfiles>\n      <profiles>\n        <profile>\n          <id>securecentral</id>\n          <!--Override the repository (and pluginRepository) \"central\" from the\n             Maven Super POM -->\n          <repositories>\n            <repository>\n              <id>central</id>\n              <url>http://repo1.maven.org/maven2</url>\n              <releases>\n                <enabled>true</enabled>\n              </releases>\n            </repository>\n          </repositories>\n          <pluginRepositories>\n            <pluginRepository>\n              <id>central</id>\n              <url>http://repo1.maven.org/maven2</url>\n              <releases>\n                <enabled>true</enabled>\n              </releases>\n            </pluginRepository>\n          </pluginRepositories>\n        </profile>\n      </profiles>\n    </settings>"
  },
  {
    "url": "https://stackoverflow.com/questions/27767264/how-to-dockerize-a-maven-project-how-many-ways-to-accomplish-it",
    "body": "$ docker run --rm -it demo:latest\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.1.3.RELEASE)\n2019-02-22 17:18:57.835  INFO 1 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication v0.0.1-SNAPSHOT on f4e67677c9a9 with PID 1 (/usr/local/bin/demo.jar started by root in /)\n2019-02-22 17:18:57.837  INFO 1 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default\n2019-02-22 17:18:58.294  INFO 1 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 0.711 seconds (JVM running for 1.035)"
  },
  {
    "url": "https://stackoverflow.com/questions/3066590/gui-not-working-after-rewriting-to-mvc",
    "body": "import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Observable;\nimport java.util.Observer;\nimport java.util.Random;\nimport javax.swing.Icon;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n/**\n * @see http://stackoverflow.com/q/3066590/230513\n * @see http://stackoverflow.com/questions/5274962\n */\npublic class MVCGame {\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new MVCGame()::display);\n    }\n    public void display() {\n        JFrame f = new JFrame();\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.add(new MainPanel());\n        f.pack();\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n    }\n}\nfinal class MainPanel extends JPanel {\n    public MainPanel() {\n        super(new BorderLayout());\n        Model model = new Model();\n        View view = new View(model);\n        Control control = new Control(model, view);\n        JLabel label = new JLabel(\"Guess what color!\", JLabel.CENTER);\n        this.add(label, BorderLayout.NORTH);\n        this.add(view, BorderLayout.CENTER);\n        this.add(control.createPanel(), BorderLayout.SOUTH);\n    }\n}\n/**\n * Control panel\n */\nfinal class Control {\n    private final Model model;\n    private final View view;\n    private final JButton reset = new JButton(\"Reset\");\n    public Control(Model model, View view) {\n        this.model = model;\n        this.view = view;\n    }\n    public JPanel createPanel() {\n        JPanel panel = new JPanel();\n        panel.add(reset);\n        reset.addActionListener(new ButtonHandler());\n        return panel;\n    }\n    private class ButtonHandler implements ActionListener {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            String cmd = e.getActionCommand();\n            if (\"Reset\".equals(cmd)) {\n                model.reset();\n            }\n        }\n    }\n}\n/**\n * View\n */\nfinal class View extends JPanel {\n    private static final String PROMPT = \"Click a button.\";\n    private final Model model;\n    private final ColorIcon icon = new ColorIcon(80, Color.gray);\n    private final JLabel label = new JLabel(PROMPT, icon, JLabel.CENTER);\n    public View(Model model) {\n        super(new BorderLayout());\n        this.model = model;\n        label.setVerticalTextPosition(JLabel.BOTTOM);\n        label.setHorizontalTextPosition(JLabel.CENTER);\n        this.add(label, BorderLayout.CENTER);\n        this.add(genButtonPanel(), BorderLayout.SOUTH);\n        model.addObserver(new ModelObserver());\n    }\n    private JPanel genButtonPanel() {\n        JPanel panel = new JPanel();\n        for (Piece p : Piece.values()) {\n            PieceButton pb = new PieceButton(p);\n            pb.addActionListener(new ButtonHandler());\n            panel.add(pb);\n        }\n        return panel;\n    }\n    private class ModelObserver implements Observer {\n        @Override\n        public void update(Observable o, Object arg) {\n            if (arg == null) {\n                label.setText(PROMPT);\n                icon.color = Color.gray;\n            } else {\n                if ((Boolean) arg) {\n                    label.setText(\"Win!\");\n                } else {\n                    label.setText(\"Keep trying.\");\n                }\n            }\n        }\n    }\n    private class ButtonHandler implements ActionListener {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            PieceButton pb = (PieceButton) e.getSource();\n            icon.color = pb.piece.color;\n            label.repaint();\n            model.check(pb.piece);\n        }\n    }\n    private final static class PieceButton extends JButton {\n        private Piece piece;\n        public PieceButton(Piece piece) {\n            this.piece = piece;\n            this.setIcon(new ColorIcon(16, piece.color));\n        }\n    }\n    private static class ColorIcon implements Icon {\n        private final int size;\n        private Color color;\n        public ColorIcon(int size, Color color) {\n            this.size = size;\n            this.color = color;\n        }\n        @Override\n        public void paintIcon(Component c, Graphics g, int x, int y) {\n            Graphics2D g2d = (Graphics2D) g;\n            g2d.setRenderingHint(\n                RenderingHints.KEY_ANTIALIASING,\n                RenderingHints.VALUE_ANTIALIAS_ON);\n            g2d.setColor(color);\n            g2d.fillOval(x, y, size, size);\n        }\n        @Override\n        public int getIconWidth() {\n            return size;\n        }\n        @Override\n        public int getIconHeight() {\n            return size;\n        }\n    }\n}\n/**\n * Model\n */\nclass Model extends Observable {\n    private static final Random rnd = new Random();\n    private static final Piece[] pieces = Piece.values();\n    private Piece hidden = init();\n    private Piece init() {\n        return pieces[rnd.nextInt(pieces.length)];\n    }\n    public void reset() {\n        hidden = init();\n        setChanged();\n        notifyObservers();\n    }\n    public void check(Piece guess) {\n        setChanged();\n        notifyObservers(guess.equals(hidden));\n    }\n}\nenum Piece {\n    Red(Color.red), Green(Color.green), Blue(Color.blue);\n    public Color color;\n    private Piece(Color color) {\n        this.color = color;\n    }\n}"
  }
]